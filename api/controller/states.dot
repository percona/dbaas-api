digraph  {

subgraph ClusterState {
  node [style=filled];

  CLUSTER_STATE_CHANGING [fillcolor=green];
  CLUSTER_STATE_READY;
  CLUSTER_STATE_FAILED;
  CLUSTER_STATE_PAUSED;
  CLUSTER_STATE_DELETING [fillcolor=red];

  CLUSTER_STATE_CHANGING -> CLUSTER_STATE_READY;
  CLUSTER_STATE_READY -> CLUSTER_STATE_CHANGING;

  CLUSTER_STATE_CHANGING -> CLUSTER_STATE_FAILED;
  CLUSTER_STATE_READY -> CLUSTER_STATE_FAILED;

  CLUSTER_STATE_CHANGING -> CLUSTER_STATE_DELETING;
  CLUSTER_STATE_READY -> CLUSTER_STATE_DELETING;
  CLUSTER_STATE_FAILED -> CLUSTER_STATE_DELETING;

  CLUSTER_STATE_READY -> CLUSTER_STATE_PAUSED;
  CLUSTER_STATE_PAUSED -> CLUSTER_STATE_CHANGING;
}

subgraph BackupState {
  node [style=filled];

  BACKUP_STATE_RUNNING [fillcolor=green];
  BACKUP_STATE_SUCCEEDED [fillcolor=red];
  BACKUP_STATE_FAILED [fillcolor=red];

  BACKUP_STATE_RUNNING -> BACKUP_STATE_SUCCEEDED;
  BACKUP_STATE_RUNNING -> BACKUP_STATE_FAILED;
}

subgraph RestoreState {
  node [style=filled];

  // TODO
}

}
